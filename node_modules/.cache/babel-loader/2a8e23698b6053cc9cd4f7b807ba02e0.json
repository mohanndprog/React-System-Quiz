{"ast":null,"code":"import { useEffect, useState } from 'react';\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\nvar useScrollPosition = function useScrollPosition() {\n  var _useState = useState(0),\n    _useState2 = slicedToArray(_useState, 2),\n    scrollPosition = _useState2[0],\n    setScrollPosition = _useState2[1];\n  useEffect(function () {\n    var last_known_scroll_position = 0;\n    var ticking = false;\n    var handleScroll = function handleScroll(e) {\n      last_known_scroll_position = window.scrollY;\n      if (!ticking) {\n        window.requestAnimationFrame(function () {\n          setScrollPosition(last_known_scroll_position);\n          ticking = false;\n        });\n        ticking = true;\n      }\n    };\n    window.addEventListener('scroll', handleScroll);\n    return function () {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  });\n  return scrollPosition;\n};\nexport default useScrollPosition;","map":{"version":3,"names":["useScrollPosition","useState","scrollPosition","_useState2","setScrollPosition","last_known_scroll_position","ticking","handleScroll","e","window","scrollY","requestAnimationFrame","addEventListener","removeEventListener"],"sources":["../lib/use-scroll-position.js"],"sourcesContent":["import { useEffect, useState } from 'react'\n\nconst useScrollPosition = () => {\n  const [scrollPosition, setScrollPosition] = useState(0)\n\n  useEffect(() => {\n    let last_known_scroll_position = 0\n    let ticking = false\n    const handleScroll = e => {\n      last_known_scroll_position = window.scrollY\n\n      if (!ticking) {\n        window.requestAnimationFrame(function () {\n          setScrollPosition(last_known_scroll_position)\n          ticking = false\n        })\n\n        ticking = true\n      }\n    }\n    window.addEventListener('scroll', handleScroll)\n\n    return () => {\n      window.removeEventListener('scroll', handleScroll)\n    }\n  })\n\n  return scrollPosition\n}\nexport default useScrollPosition\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,iBAAA,GAAoB,SAApBA,iBAAoBA,CAAA,EAAM;kBACcC,QAAA,CAAS,CAAT,CADd;;IACvBC,cADuB,GAAAC,UAAA;IACPC,iBADO,GAAAD,UAAA;YAGpB,YAAM;QACVE,0BAAA,GAA6B,CAAjC;QACIC,OAAA,GAAU,KAAd;QACMC,YAAA,GAAe,SAAfA,YAAeA,CAAAC,CAAA,EAAK;mCACKC,MAAA,CAAOC,OAApC;UAEI,CAACJ,OAAL,EAAc;eACLK,qBAAP,CAA6B,YAAY;4BACrBN,0BAAlB;oBACU,KAAV;SAFF;kBAKU,IAAV;;KATJ;WAYOO,gBAAP,CAAwB,QAAxB,EAAkCL,YAAlC;WAEO,YAAM;aACJM,mBAAP,CAA2B,QAA3B,EAAqCN,YAArC;KADF;GAjBF;SAsBOL,cAAP;CAzBF"},"metadata":{},"sourceType":"module"}