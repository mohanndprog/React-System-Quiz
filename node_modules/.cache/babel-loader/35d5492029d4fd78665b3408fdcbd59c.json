{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Click\\\\Documents\\\\__Exam_M\\\\src\\\\markup\\\\Pages\\\\Sound\\\\SoundInputField.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SoundInputField = () => {\n  _s();\n  const [audioContext, setAudioContext] = useState(null);\n  const [mediaStream, setMediaStream] = useState(null);\n  const [audioRecorder, setAudioRecorder] = useState(null);\n  const [chunks, setChunks] = useState([]);\n  const [isRecording, setIsRecording] = useState(false);\n  useEffect(() => {\n    const initializeAudio = async () => {\n      const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n      const mediaStream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      setAudioContext(audioContext);\n      setMediaStream(mediaStream);\n    };\n    initializeAudio();\n    return () => {\n      if (mediaStream) {\n        mediaStream.getTracks().forEach(track => track.stop());\n      }\n    };\n  }, []);\n  const handleStart = () => {\n    if (audioContext && mediaStream && !isRecording) {\n      const audioSource = audioContext.createMediaStreamSource(mediaStream);\n      const audioRecorder = new MediaRecorder(audioSource);\n      const chunks = [];\n      audioRecorder.addEventListener('dataavailable', event => {\n        chunks.push(event.data);\n      });\n      audioRecorder.addEventListener('stop', () => {\n        setChunks(chunks);\n        setIsRecording(false);\n      });\n      audioRecorder.start();\n      setIsRecording(true);\n      setAudioRecorder(audioRecorder);\n    }\n  };\n  const handleStop = () => {\n    if (audioRecorder && isRecording) {\n      audioRecorder.stop();\n    }\n  };\n  const handlePlay = () => {\n    if (chunks.length > 0) {\n      const audioData = new Blob(chunks, {\n        type: 'audio/webm'\n      });\n      const audioUrl = URL.createObjectURL(audioData);\n      const audioElement = new Audio(audioUrl);\n      audioElement.play();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-3\",\n      children: /*#__PURE__*/_jsxDEV(\"audio\", {\n        controls: \"controls\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n_s(SoundInputField, \"XcVw2MYuCrgu7ldJQRAv1BKoUTM=\");\n_c = SoundInputField;\nexport default SoundInputField;\nvar _c;\n$RefreshReg$(_c, \"SoundInputField\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","SoundInputField","_s","audioContext","setAudioContext","mediaStream","setMediaStream","audioRecorder","setAudioRecorder","chunks","setChunks","isRecording","setIsRecording","initializeAudio","window","AudioContext","webkitAudioContext","navigator","mediaDevices","getUserMedia","audio","getTracks","forEach","track","stop","handleStart","audioSource","createMediaStreamSource","MediaRecorder","addEventListener","event","push","data","start","handleStop","handlePlay","length","audioData","Blob","type","audioUrl","URL","createObjectURL","audioElement","Audio","play","className","children","controls","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Click/Documents/__Exam_M/src/markup/Pages/Sound/SoundInputField.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst SoundInputField = () => {\r\n  const [audioContext, setAudioContext] = useState(null);\r\n  const [mediaStream, setMediaStream] = useState(null);\r\n  const [audioRecorder, setAudioRecorder] = useState(null);\r\n  const [chunks, setChunks] = useState([]);\r\n  const [isRecording, setIsRecording] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const initializeAudio = async () => {\r\n      const audioContext = new (window.AudioContext || window.webkitAudioContext)();\r\n      const mediaStream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n\r\n      setAudioContext(audioContext);\r\n      setMediaStream(mediaStream);\r\n    };\r\n\r\n    initializeAudio();\r\n\r\n    return () => {\r\n      if (mediaStream) {\r\n        mediaStream.getTracks().forEach((track) => track.stop());\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const handleStart = () => {\r\n    if (audioContext && mediaStream && !isRecording) {\r\n      const audioSource = audioContext.createMediaStreamSource(mediaStream);\r\n      const audioRecorder = new MediaRecorder(audioSource);\r\n      const chunks = [];\r\n\r\n      audioRecorder.addEventListener('dataavailable', (event) => {\r\n        chunks.push(event.data);\r\n      });\r\n\r\n      audioRecorder.addEventListener('stop', () => {\r\n        setChunks(chunks);\r\n        setIsRecording(false);\r\n      });\r\n\r\n      audioRecorder.start();\r\n      setIsRecording(true);\r\n      setAudioRecorder(audioRecorder);\r\n    }\r\n  };\r\n\r\n  const handleStop = () => {\r\n    if (audioRecorder && isRecording) {\r\n      audioRecorder.stop();\r\n    }\r\n  };\r\n\r\n  const handlePlay = () => {\r\n    if (chunks.length > 0) {\r\n      const audioData = new Blob(chunks, { type: 'audio/webm' });\r\n      const audioUrl = URL.createObjectURL(audioData);\r\n      const audioElement = new Audio(audioUrl);\r\n\r\n      audioElement.play();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n   \r\n      <div className=\"mt-3\">\r\n      <audio  controls=\"controls\" />\r\n        {/* <button className=\"btn btn-primary mr-2\" onClick={handleStart} disabled={isRecording}>\r\n          Start\r\n        </button>\r\n        <button className=\"btn btn-secondary mr-2\" onClick={handleStop} disabled={!isRecording}>\r\n          Stop\r\n        </button>\r\n        <button className=\"btn btn-success mr-2\" onClick={handlePlay}>\r\n          Play\r\n        </button> */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SoundInputField;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}