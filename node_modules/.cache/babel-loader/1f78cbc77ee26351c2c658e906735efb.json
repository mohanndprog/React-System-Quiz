{"ast":null,"code":"var _jsxFileName = \"F:\\\\___ReactJS Exam\\\\react-exam\\\\src\\\\markup\\\\Pages\\\\Sound\\\\SoundInputField.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SoundInputField = () => {\n  _s();\n\n  const [audioContext, setAudioContext] = useState(null);\n  const [mediaStream, setMediaStream] = useState(null);\n  const [audioRecorder, setAudioRecorder] = useState(null);\n  useEffect(() => {\n    const initializeAudio = async () => {\n      const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n      const mediaStream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      setAudioContext(audioContext);\n      setMediaStream(mediaStream);\n    };\n\n    initializeAudio();\n    return () => {\n      if (mediaStream) {\n        mediaStream.getTracks().forEach(track => track.stop());\n      }\n    };\n  }, []);\n\n  const handleStart = () => {\n    if (audioContext && mediaStream) {\n      const audioSource = audioContext.createMediaStreamSource(mediaStream);\n      const audioRecorder = new MediaRecorder(audioSource);\n      const chunks = [];\n      audioRecorder.addEventListener('dataavailable', event => {\n        chunks.push(event.data);\n      });\n      audioRecorder.start();\n      setAudioRecorder(audioRecorder);\n    }\n  };\n\n  const handleStop = () => {\n    if (audioRecorder) {\n      audioRecorder.stop();\n    }\n  };\n\n  const handlePlay = () => {\n    if (audioRecorder && audioRecorder.state === 'inactive') {\n      const audioData = new Blob(chunks, {\n        type: 'audio/webm'\n      });\n      const audioUrl = URL.createObjectURL(audioData);\n      const audioElement = new Audio(audioUrl);\n      audioElement.play();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Real-time Sound Input Field\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary mr-2\",\n        onClick: handleStart,\n        children: \"Start\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary mr-2\",\n        onClick: handleStop,\n        children: \"Stop\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-success\",\n        onClick: handlePlay,\n        children: \"Play\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SoundInputField, \"FWWqNrNvrx61pB8jvfpv2loVL58=\");\n\n_c = SoundInputField;\nexport default SoundInputField;\n\nvar _c;\n\n$RefreshReg$(_c, \"SoundInputField\");","map":{"version":3,"sources":["F:/___ReactJS Exam/react-exam/src/markup/Pages/Sound/SoundInputField.js"],"names":["React","useState","useEffect","SoundInputField","audioContext","setAudioContext","mediaStream","setMediaStream","audioRecorder","setAudioRecorder","initializeAudio","window","AudioContext","webkitAudioContext","navigator","mediaDevices","getUserMedia","audio","getTracks","forEach","track","stop","handleStart","audioSource","createMediaStreamSource","MediaRecorder","chunks","addEventListener","event","push","data","start","handleStop","handlePlay","state","audioData","Blob","type","audioUrl","URL","createObjectURL","audioElement","Audio","play"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;AAEA,MAAMC,eAAe,GAAG,MAAM;AAAA;;AAC5B,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCJ,QAAQ,CAAC,IAAD,CAAhD;AACA,QAAM,CAACK,WAAD,EAAcC,cAAd,IAAgCN,QAAQ,CAAC,IAAD,CAA9C;AACA,QAAM,CAACO,aAAD,EAAgBC,gBAAhB,IAAoCR,QAAQ,CAAC,IAAD,CAAlD;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMQ,eAAe,GAAG,YAAY;AAClC,YAAMN,YAAY,GAAG,KAAKO,MAAM,CAACC,YAAP,IAAuBD,MAAM,CAACE,kBAAnC,GAArB;AACA,YAAMP,WAAW,GAAG,MAAMQ,SAAS,CAACC,YAAV,CAAuBC,YAAvB,CAAoC;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAApC,CAA1B;AAEAZ,MAAAA,eAAe,CAACD,YAAD,CAAf;AACAG,MAAAA,cAAc,CAACD,WAAD,CAAd;AACD,KAND;;AAQAI,IAAAA,eAAe;AAEf,WAAO,MAAM;AACX,UAAIJ,WAAJ,EAAiB;AACfA,QAAAA,WAAW,CAACY,SAAZ,GAAwBC,OAAxB,CAAiCC,KAAD,IAAWA,KAAK,CAACC,IAAN,EAA3C;AACD;AACF,KAJD;AAKD,GAhBQ,EAgBN,EAhBM,CAAT;;AAkBA,QAAMC,WAAW,GAAG,MAAM;AACxB,QAAIlB,YAAY,IAAIE,WAApB,EAAiC;AAC/B,YAAMiB,WAAW,GAAGnB,YAAY,CAACoB,uBAAb,CAAqClB,WAArC,CAApB;AACA,YAAME,aAAa,GAAG,IAAIiB,aAAJ,CAAkBF,WAAlB,CAAtB;AACA,YAAMG,MAAM,GAAG,EAAf;AAEAlB,MAAAA,aAAa,CAACmB,gBAAd,CAA+B,eAA/B,EAAiDC,KAAD,IAAW;AACzDF,QAAAA,MAAM,CAACG,IAAP,CAAYD,KAAK,CAACE,IAAlB;AACD,OAFD;AAIAtB,MAAAA,aAAa,CAACuB,KAAd;AAEAtB,MAAAA,gBAAgB,CAACD,aAAD,CAAhB;AACD;AACF,GAdD;;AAgBA,QAAMwB,UAAU,GAAG,MAAM;AACvB,QAAIxB,aAAJ,EAAmB;AACjBA,MAAAA,aAAa,CAACa,IAAd;AACD;AACF,GAJD;;AAMA,QAAMY,UAAU,GAAG,MAAM;AACvB,QAAIzB,aAAa,IAAIA,aAAa,CAAC0B,KAAd,KAAwB,UAA7C,EAAyD;AACvD,YAAMC,SAAS,GAAG,IAAIC,IAAJ,CAASV,MAAT,EAAiB;AAAEW,QAAAA,IAAI,EAAE;AAAR,OAAjB,CAAlB;AACA,YAAMC,QAAQ,GAAGC,GAAG,CAACC,eAAJ,CAAoBL,SAApB,CAAjB;AACA,YAAMM,YAAY,GAAG,IAAIC,KAAJ,CAAUJ,QAAV,CAArB;AAEAG,MAAAA,YAAY,CAACE,IAAb;AACD;AACF,GARD;;AAUA,sBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,8BACE;AAAQ,QAAA,SAAS,EAAC,sBAAlB;AAAyC,QAAA,OAAO,EAAErB,WAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAIE;AAAQ,QAAA,SAAS,EAAC,wBAAlB;AAA2C,QAAA,OAAO,EAAEU,UAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,eAOE;AAAQ,QAAA,SAAS,EAAC,iBAAlB;AAAoC,QAAA,OAAO,EAAEC,UAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAgBD,CAvED;;GAAM9B,e;;KAAAA,e;AAyEN,eAAeA,eAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst SoundInputField = () => {\r\n  const [audioContext, setAudioContext] = useState(null);\r\n  const [mediaStream, setMediaStream] = useState(null);\r\n  const [audioRecorder, setAudioRecorder] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const initializeAudio = async () => {\r\n      const audioContext = new (window.AudioContext || window.webkitAudioContext)();\r\n      const mediaStream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n\r\n      setAudioContext(audioContext);\r\n      setMediaStream(mediaStream);\r\n    };\r\n\r\n    initializeAudio();\r\n\r\n    return () => {\r\n      if (mediaStream) {\r\n        mediaStream.getTracks().forEach((track) => track.stop());\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const handleStart = () => {\r\n    if (audioContext && mediaStream) {\r\n      const audioSource = audioContext.createMediaStreamSource(mediaStream);\r\n      const audioRecorder = new MediaRecorder(audioSource);\r\n      const chunks = [];\r\n\r\n      audioRecorder.addEventListener('dataavailable', (event) => {\r\n        chunks.push(event.data);\r\n      });\r\n\r\n      audioRecorder.start();\r\n\r\n      setAudioRecorder(audioRecorder);\r\n    }\r\n  };\r\n\r\n  const handleStop = () => {\r\n    if (audioRecorder) {\r\n      audioRecorder.stop();\r\n    }\r\n  };\r\n\r\n  const handlePlay = () => {\r\n    if (audioRecorder && audioRecorder.state === 'inactive') {\r\n      const audioData = new Blob(chunks, { type: 'audio/webm' });\r\n      const audioUrl = URL.createObjectURL(audioData);\r\n      const audioElement = new Audio(audioUrl);\r\n\r\n      audioElement.play();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>Real-time Sound Input Field</h2>\r\n      <div className=\"mt-3\">\r\n        <button className=\"btn btn-primary mr-2\" onClick={handleStart}>\r\n          Start\r\n        </button>\r\n        <button className=\"btn btn-secondary mr-2\" onClick={handleStop}>\r\n          Stop\r\n        </button>\r\n        <button className=\"btn btn-success\" onClick={handlePlay}>\r\n          Play\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SoundInputField;\r\n"]},"metadata":{},"sourceType":"module"}