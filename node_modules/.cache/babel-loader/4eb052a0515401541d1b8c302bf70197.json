{"ast":null,"code":"import _regeneratorRuntime from\"F:/___ReactJS Exam/react-exam/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"F:/___ReactJS Exam/react-exam/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"F:/___ReactJS Exam/react-exam/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var SoundInputField=function SoundInputField(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),audioContext=_useState2[0],setAudioContext=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),mediaStream=_useState4[0],setMediaStream=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),audioRecorder=_useState6[0],setAudioRecorder=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),chunks=_useState8[0],setChunks=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isRecording=_useState10[0],setIsRecording=_useState10[1];useEffect(function(){var initializeAudio=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var audioContext,mediaStream;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:audioContext=new(window.AudioContext||window.webkitAudioContext)();_context.next=3;return navigator.mediaDevices.getUserMedia({audio:true});case 3:mediaStream=_context.sent;setAudioContext(audioContext);setMediaStream(mediaStream);case 6:case\"end\":return _context.stop();}}},_callee);}));return function initializeAudio(){return _ref.apply(this,arguments);};}();initializeAudio();return function(){if(mediaStream){mediaStream.getTracks().forEach(function(track){return track.stop();});}};},[]);var handleStart=function handleStart(){if(audioContext&&mediaStream&&!isRecording){var audioSource=audioContext.createMediaStreamSource(mediaStream);var _audioRecorder=new MediaRecorder(audioSource);var _chunks=[];_audioRecorder.addEventListener('dataavailable',function(event){_chunks.push(event.data);});_audioRecorder.addEventListener('stop',function(){setChunks(_chunks);setIsRecording(false);});_audioRecorder.start();setIsRecording(true);setAudioRecorder(_audioRecorder);}};var handleStop=function handleStop(){if(audioRecorder&&isRecording){audioRecorder.stop();}};var handlePlay=function handlePlay(){if(chunks.length>0){var audioData=new Blob(chunks,{type:'audio/webm'});var audioUrl=URL.createObjectURL(audioData);var audioElement=new Audio(audioUrl);audioElement.play();}};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:/*#__PURE__*/_jsx(\"audio\",{controls:\"controls\"})})});};export default SoundInputField;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","SoundInputField","_useState","_useState2","_slicedToArray","audioContext","setAudioContext","_useState3","_useState4","mediaStream","setMediaStream","_useState5","_useState6","audioRecorder","setAudioRecorder","_useState7","_useState8","chunks","setChunks","_useState9","_useState10","isRecording","setIsRecording","initializeAudio","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","window","AudioContext","webkitAudioContext","navigator","mediaDevices","getUserMedia","audio","sent","stop","apply","arguments","getTracks","forEach","track","handleStart","audioSource","createMediaStreamSource","MediaRecorder","addEventListener","event","push","data","start","handleStop","handlePlay","length","audioData","Blob","type","audioUrl","URL","createObjectURL","audioElement","Audio","play","className","children","controls"],"sources":["F:/___ReactJS Exam/react-exam/src/markup/Pages/Sound/SoundInputField.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst SoundInputField = () => {\r\n  const [audioContext, setAudioContext] = useState(null);\r\n  const [mediaStream, setMediaStream] = useState(null);\r\n  const [audioRecorder, setAudioRecorder] = useState(null);\r\n  const [chunks, setChunks] = useState([]);\r\n  const [isRecording, setIsRecording] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const initializeAudio = async () => {\r\n      const audioContext = new (window.AudioContext || window.webkitAudioContext)();\r\n      const mediaStream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n\r\n      setAudioContext(audioContext);\r\n      setMediaStream(mediaStream);\r\n    };\r\n\r\n    initializeAudio();\r\n\r\n    return () => {\r\n      if (mediaStream) {\r\n        mediaStream.getTracks().forEach((track) => track.stop());\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const handleStart = () => {\r\n    if (audioContext && mediaStream && !isRecording) {\r\n      const audioSource = audioContext.createMediaStreamSource(mediaStream);\r\n      const audioRecorder = new MediaRecorder(audioSource);\r\n      const chunks = [];\r\n\r\n      audioRecorder.addEventListener('dataavailable', (event) => {\r\n        chunks.push(event.data);\r\n      });\r\n\r\n      audioRecorder.addEventListener('stop', () => {\r\n        setChunks(chunks);\r\n        setIsRecording(false);\r\n      });\r\n\r\n      audioRecorder.start();\r\n      setIsRecording(true);\r\n      setAudioRecorder(audioRecorder);\r\n    }\r\n  };\r\n\r\n  const handleStop = () => {\r\n    if (audioRecorder && isRecording) {\r\n      audioRecorder.stop();\r\n    }\r\n  };\r\n\r\n  const handlePlay = () => {\r\n    if (chunks.length > 0) {\r\n      const audioData = new Blob(chunks, { type: 'audio/webm' });\r\n      const audioUrl = URL.createObjectURL(audioData);\r\n      const audioElement = new Audio(audioUrl);\r\n\r\n      audioElement.play();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n   \r\n      <div className=\"mt-3\">\r\n      <audio  controls=\"controls\" />\r\n        {/* <button className=\"btn btn-primary mr-2\" onClick={handleStart} disabled={isRecording}>\r\n          Start\r\n        </button>\r\n        <button className=\"btn btn-secondary mr-2\" onClick={handleStop} disabled={!isRecording}>\r\n          Stop\r\n        </button>\r\n        <button className=\"btn btn-success mr-2\" onClick={handlePlay}>\r\n          Play\r\n        </button> */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SoundInputField;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}